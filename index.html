<!DOCTYPE html>
<html lang="zh-Hant-HK">
<head>

	<meta charset="utf-8">
	<title>港人有云</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1">
  
	<link href="css/normalize.css" rel="stylesheet" type="text/css">
	<link href="favicon.ico" rel="icon" type="image/x-icon">
</head>
<body>
	<nav>
		<div class="inline logo">
			港人有<u>云</u>
			<i class="inline fa fa-comment"></i>
		</div>
		<form method="get" class="search">
			<input class="borderless full-width" type="text" placeholder="討論話題 ......" name="topic"><button class="borderless" type="submit"><i class="fa fa-commenting-o"></i></button>
		</form>
	</nav>
	<div class="container">
		<div id="page_post">
			<table class="full-width">
				<thead>
					<tr>
						<th class="title">標題</th>
						<th class="score">評分</th>
					</tr>
				</thead>
				<tbody class="body">
				</tbody>
			</table>
		</div>
		<div id="page_topic">
			<div class="body">
			
			</div>
		</div>
	</div>
	<div id="functionKey">
	
	</div>	
	<link href="fonts/font.css" rel="stylesheet" type="text/css">
	<link href="css/core.css" rel="stylesheet" type="text/css">
	<script>
		String.prototype.startsWith = function(searchString, position){position = position || 0;return this.substr(position, searchString.length) === searchString;};
		function $functionKey(){
			var body = document.getElementById("functionKey");
			body.innerHTML="";
			for (i=0;i<arguments.length;i++){
				switch(arguments[i]){
					case "post":
						body.innerHTML +='<a class="button" href="#"><i class="fa fa-plus fa-1x"></i> 新討論</a>';
						break;
					case "return":
						body.innerHTML +='<a class="button" onclick="$switch(\'page_post\')"><i class="fa fa-chevron-circle-left fa-1x"></i> 返回</a>';
						break;
					case "refresh":
						body.innerHTML +='<a class="button" onclick="$switch($me.page)"><i class="fa fa-refresh fa-1x"></i> 刷新</a>';
						break;
				}
			}
		}
		function $switch(page){	
			$me.page = page;
			var page_ = document.getElementsByTagName('div');
			for (i=0;i<page_.length;i++){
				if (page_[i].id==page){
					page_[i].style.display = "block";
				}else if (page_[i].id.startsWith("page_")){
					page_[i].style.display = "none";
				}
			}
			var body = document.querySelector("#"+page+" .body");
			body.innerHTML="";
			switch(page){
				case "page_post":
					for(i=1;i<=100;i++){
						$post(body,"帖子"+i,0);
					}
					$functionKey("post","refresh");
					document.body.scrollTop = document.documentElement.scrollTop = 0;
					break;
				case "page_topic":
					$comments(body,"Tom","hello",new Date().getTime());
					$functionKey("return","refresh");
					document.body.scrollTop = document.documentElement.scrollTop = 0;
					break;
			}
		}
		function $post(a,t,d){a.innerHTML+="<tr><td onclick='$switch(\"page_topic\")'>"+t+"</td><td>"+d+"</td></tr>"}
		function $comments(a,e,t,s){a.innerHTML+='<div class="chat'+(e==$me.name?" me":"")+'"><a class="user">'+e+'</a><div class="bubble">'+t+'</div><a class="date">'+simplify(s)+"</a></div>"}function simplify(e){var t=new Date;return e=new Date(e),e.toISOString().substr(0,10)==t.toISOString().substr(0,10)?e.getHours()==t.getHours()?e.getMinutes()==t.getMinutes()?t.getSeconds()-e.getSeconds()+"秒前":t.getMinutes()-e.getMinutes()+"分鐘前":t.getHours()-e.getHours()+"小時前":e.getFullYear()==t.getFullYear()?e.getMonth()==t.getMonth()?t.getDate()-e.getDate()+"日前":t.getMonth()-e.getMonth()+"個月前":t.getFullYear()-e.getFullYear()+"年前"}
	</script>
	<script>
		var $me = {
			name : "j113203",
			page : "page_post"
		};
		$switch($me.page);
		//$switch("page_topic");
	</script>
</body>
</html>